{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","canvas","document","getElementById","ctx","getContext","colorGet","querySelector","selectTool","resolution","tools","fillBucket","chooseColor","pencil","isDraw","addRemoveClass","button","querySelectorAll","forEach","elem","classList","remove","add","width","height","matrix","saveApp","colorObj","localStorage","setItem","toDataURL","JSON","stringify","current","prev","style","backgroundColor","takeColor","setPrevColor","temp","prevColor","setAttribute","addEventListener","event","target","onclick","innerText","previousElementSibling","getAttribute","type","cordPixel","x0","y0","x1","y1","id","Math","floor","offsetX","offsetY","x","y","colorPick","getImageData","objColor","imageData","data","g","b","a","getColorAtPixel","toString","slice","fillStyle","fill","fillRect","dx","abs","sx","dy","sy","err","beginPath","e2","algoritmBresenham","code","children","click","dataURL","getItem","img","Image","src","onload","drawImage","toolsJSON","parse","colorJSON","restoreCanvas"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const canvas = document.getElementById('canvas');\nconst ctx = canvas.getContext('2d');\nconst colorGet = document.querySelector('.color');\nconst selectTool = document.querySelector('.tools');\nconst resolution = document.querySelector('#resolution');\nconst tools = {\n  fillBucket: false,\n  chooseColor: false,\n  pencil: true,\n};\nlet isDraw = false;\n\nfunction addRemoveClass() {\n  const button = document.querySelectorAll('.tools--buttons-elem');\n  [...button].forEach((elem) => {\n    elem.classList.remove('active');\n  });\n  if (tools.fillBucket === true) {\n    button[0].classList.add('active');\n  }\n  if (tools.chooseColor === true) {\n    button[1].classList.add('active');\n  }\n  if (tools.pencil === true) {\n    button[2].classList.add('active');\n  }\n}\n\naddRemoveClass();\n\ncanvas.width = 512;\ncanvas.height = 512;\nlet matrix = 128;\nresolution.addEventListener('change', (event) => {\n  matrix = event.target.value;\n});\n\nfunction colorSave() {\n  const colorObj = {};\n  colorObj.current = document.querySelector('#current').value;\n  colorObj.prev = document.querySelector('#prev').style.backgroundColor;\n  return JSON.stringify(colorObj);\n}\n\nfunction saveApp() {\n  localStorage.setItem('canvasImage', canvas.toDataURL());\n  localStorage.setItem('tools', JSON.stringify(tools));\n  localStorage.setItem('color', colorSave());\n}\n\nfunction restoreCanvas() {\n  const dataURL = localStorage.getItem('canvasImage');\n  const img = new Image();\n  img.src = dataURL;\n  img.onload = () => {\n    ctx.drawImage(img, 0, 0);\n  };\n\n  const toolsJSON = JSON.parse(localStorage.getItem('tools'));\n  tools.fillBucket = false;\n  tools.chooseColor = false;\n  tools.pencil = false;\n  tools.fillBucket = toolsJSON.fillBucket;\n  tools.chooseColor = toolsJSON.chooseColor;\n  tools.pencil = toolsJSON.pencil;\n  addRemoveClass();\n\n  const colorJSON = JSON.parse(localStorage.getItem('color'));\n  document.querySelector('#current').value = colorJSON.current;\n  document.querySelector('#prev').style.backgroundColor = colorJSON.prev;\n}\n\nfunction clearCanvas() {\n  ctx.fillStyle = '#ffffff';\n  ctx.fill();\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n}\n\n\nfunction takeColor() {\n  return document.querySelector('#current').value;\n}\n\nfunction setPrevColor() {\n  const temp = takeColor();\n  const prevColor = document.getElementById('prev');\n  prevColor.style.backgroundColor = temp;\n  prevColor.setAttribute('data', `${temp}`);\n}\n\nconst getColorAtPixel = (imageData, x, y) => {\n  const { width, data } = imageData;\n\n  return {\n    r: data[4 * (width * y + x)],\n    g: data[4 * (width * y + x) + 1],\n    b: data[4 * (width * y + x) + 2],\n    a: data[4 * (width * y + x) + 3],\n  };\n};\n\nfunction rgbToHex(r, g, b) {\n  return ((r << 16) | (g << 8) | b).toString(16);\n}\n\n\ncolorGet.onclick = (event) => {\n  const current = document.querySelector('#current');\n  if (event.target.innerText === 'blue') {\n    setPrevColor();\n    current.value = '#0000FF';\n  } else if (event.target.innerText === 'red') {\n    setPrevColor();\n    current.value = '#FF0000';\n  } else if (event.target.innerText === 'Prev color') {\n    current.value = event.target.previousElementSibling.getAttribute('data');\n  } else if (event.target.innerText === 'Current color' || event.target.type === 'color') {\n    setPrevColor();\n  }\n};\n\nselectTool.onclick = (event) => {\n  tools.fillBucket = false;\n  tools.chooseColor = false;\n  tools.pencil = false;\n  if (event.target.innerText === 'Fill bucket') {\n    tools.fillBucket = true;\n  } else if (event.target.innerText === 'Choose color') {\n    tools.chooseColor = true;\n  } else if (event.target.innerText === 'Pencil') {\n    tools.pencil = true;\n  }\n  addRemoveClass();\n};\nconst cordPixel = {\n  x0: 0,\n  y0: 0,\n  x1: 0,\n  y1: 0,\n};\n\nfunction setPixel(x, y) {\n  ctx.beginPath();\n  ctx.fillStyle = `${takeColor()}`;\n  ctx.fill();\n  ctx.fillRect(x * matrix, y * matrix, matrix, matrix);\n  cordPixel.x0 = cordPixel.x1;\n  cordPixel.y0 = cordPixel.y1;\n}\n\nfunction algoritmBresenham(x0, y0, x1, y1) {\n  const dx = Math.abs(x1 - x0);\n  const sx = x0 < x1 ? 1 : -1;\n  const dy = Math.abs(y1 - y0);\n  const sy = y0 < y1 ? 1 : -1;\n  let err = (dx > dy ? dx : -dy) / 2;\n  while (true) {\n    setPixel(x0, y0);\n    if (x0 === x1 && y0 === y1) break;\n    const e2 = err;\n    if (e2 > -dx) {\n      err -= dy;\n      x0 += sx;\n    }\n    if (e2 < dy) {\n      err += dx;\n      y0 += sy;\n    }\n  }\n}\n\ndocument.addEventListener('mousedown', (event) => {\n  if (tools.pencil === true && event.target.id === 'canvas') {\n    isDraw = true;\n    cordPixel.x0 = Math.floor(event.offsetX / matrix);\n    cordPixel.y0 = Math.floor(event.offsetY / matrix);\n  } else if (tools.chooseColor === true && event.target.id === 'canvas') {\n    const x = event.offsetX;\n    const y = event.offsetY;\n    const current = document.querySelector('#current');\n    const colorPick = ctx.getImageData(0, 0, 512, 512);\n    setPrevColor();\n    const objColor = getColorAtPixel(colorPick, x, y);\n    current.value = `#${(`000000${rgbToHex(objColor.r, objColor.g, objColor.b)}`).slice(-6)}`;\n  } else if (tools.fillBucket === true && event.target.id === 'canvas') {\n    ctx.fillStyle = `${takeColor()}`;\n    ctx.fill();\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n  }\n});\ndocument.addEventListener('mousemove', (event) => {\n  if (isDraw === true) {\n    cordPixel.x1 = Math.floor(event.offsetX / matrix);\n    cordPixel.y1 = Math.floor(event.offsetY / matrix);\n    algoritmBresenham(cordPixel.x0, cordPixel.y0, cordPixel.x1, cordPixel.y1);\n  }\n});\n\ndocument.addEventListener('mouseup', () => {\n  if (tools.pencil === true) {\n    isDraw = false;\n  }\n});\n\n\ndocument.addEventListener(\n  'keydown', (event) => {\n    switch (event.code) {\n      case 'KeyB':\n        selectTool.children[0].click();\n        break;\n\n      case 'KeyP':\n        selectTool.children[2].click();\n        break;\n\n      case 'KeyC':\n        selectTool.children[1].click();\n        break;\n\n      case 'KeyS':\n        saveApp();\n        break;\n\n      case 'KeyR':\n        clearCanvas();\n        break;\n\n      case 'KeyL':\n        restoreCanvas();\n        break;\n\n      default:\n        break;\n    }\n  },\n);\n"],"sourceRoot":""}